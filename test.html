<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>my-pro</title>
    <script src="js/jquery.js"></script>
    <script src="js/utf.js"></script>
    <script src="js/jquery.qrcode.js"></script>
    <script src="js/reqrcode.js"></script>
    <style type="text/css">
        #img_w{ position: relative; width: 5rem; height: 5rem; margin: 0 auto; background: #e0e0e0; margin-top: 1rem;}
        #img_w img{width:1.5rem; margin:0 auto; display: block; padding-top:1.3rem;}
        #img_w p{font-size: .4rem; text-align:center;}
        #img_w input{z-index: 9; position: absolute; top: 0; left: 0;display: inline-block; width: 100%; height: 100%; opacity: 0;}
        #code,#imgBox{ position: absolute; top: 0; left: 0; width: 100%; height: 100%;}
        #img_w img#em{width: 100%; height: 100%; padding-top: 0}
    </style>
</head>

<body>
    <div id="img_w">
        <img src="images/img18.png" />
        <input type="file" id="newfile" />
        <div id="code" style="display: none"></div>
        <div id="imgBox"></div>
        <p id="PaymentCode">请添加微信收款码</p>
        <img id="imgOne" src="" style="position:absolute; top:0; left:0; padding-top: 0; width: 100%; height:100%; display: none">
		<img id="avatar" src="" style="position:absolute; top:0; left:0; padding-top: 0; width: 100%; height:100%; display: none">
    </div>
	
</body>
<script>
    var newfile = document.getElementById('newfile');
    var getObjectURL = function (file) {
        var url = null;
        if (window.createObjectURL != undefined) { // basic
          url = window.createObjectURL(file);
        } else if (window.URL != undefined) { // mozilla
        url = window.URL.createObjectURL(file);
        } else if (window.webkitURL != undefined) { // webkit or chrome
          url = window.webkitURL.createObjectURL(file);
        }
        return url;
    }
    newfile.onchange = function () {
        qrcode.decode(getObjectURL(this.files[0]));
        qrcode.callback = function (imgMsg) {
            if(imgMsg=="error decoding QR Code"){
                alert("未识别");
            }else{
                $("#PaymentCode").hide();
                $("#code canvas").remove();
                $("#code").qrcode({
		             render : "canvas",
		             text : imgMsg,
		             width : "128",
		             height : "128",
                 });
                 let canvas2 = $("#code").find('canvas').get(0);
                 $('#imgOne').attr('src',canvas2.toDataURL('image/jpg')) 
				 var img = new Image();
				 img.src = canvas2.toDataURL('image/jpg'); 
				 var newdata= [img.src,'data:image/jpeg;base64,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dAAAAAAAAAAAAAAAAFNjbCBVbnRGI1ByY0BZAAAAAAAAAAAAEGNyb3BXaGVuUHJpbnRpbmdib29sAAAAAA5jcm9wUmVjdEJvdHRvbWxvbmcAAAAAAAAADGNyb3BSZWN0TGVmdGxvbmcAAAAAAAAADWNyb3BSZWN0UmlnaHRsb25nAAAAAAAAAAtjcm9wUmVjdFRvcGxvbmcAAAAAADhCSU0D7QAAAAAAEABIAAAAAQABAEgAAAABAAE4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0EDQAAAAAABAAAAB44QklNBBkAAAAAAAQAAAAeOEJJTQPzAAAAAAAJAAAAAAAAAAABADhCSU0nEAAAAAAACgABAAAAAAAAAAE4QklNA/UAAAAAAEgAL2ZmAAEAbGZmAAYAAAAAAAEAL2ZmAAEAoZmaAAYAAAAAAAEAMgAAAAEAWgAAAAYAAAAAAAEANQAAAAEALQAAAAYAAAAAAAE4QklNA/gAAAAAAHAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAOEJJTQQAAAAAAAACAAE4QklNBAIAAAAAAAQAAAAAOEJJTQQwAAAAAAACAQE4QklNBC0AAAAAAAYAAQAAAAI4QklNBAgAAAAAAC4AAAABAAACQAAAAkAAAAAGAAAAAAAAAApAAAAAAAABAAAKQAEAAAUgAAAABSABOEJJTQQeAAAAAAAEAAAAADhCSU0EGgAAAAADcQAAAAYAAAAAAAAAAAAAAFIAAABSAAAAHgBpAG0AZwBfADAAXwAxADYAOAA1ADIAMgAyADEAOQAwAF8AMQAyADgANgAyADMAOAA3ADcANABfADIANgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAUgAAAFIAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAG51bGwAAAACAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAA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LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMDYtMDVUMTA6NTY6NDYrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTA2LTA1VDExOjMxOjI0KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTA2LTA1VDExOjMxOjI0KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTJiNjAzZWMtNTcwNy0zZDQyLWI5NjMtNDQ2YWVhYjRiNDU1IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MWQ5MmI5OTUtMWZmOS1jZjRlLTllODEtNjgxN2IwNDNlNzI0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZTY1YmI4ZTQtYWZmNy05ZDQ3LTliNjAtZjdlODM1YjhkMjE4Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplNjViYjhlNC1hZmY3LTlkNDctOWI2MC1mN2U4MzViOGQyMTgiIHN0RXZ0OndoZW49IjIwMTktMDYtMDVUMTA6NTY6NDYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmMzYjFmYjkwLWQ3N2QtNGI0Ny1hMDg5LWE2MDY1OTAyOTRiNiIgc3RFdnQ6d2hlbj0iMjAxOS0wNi0wNVQxMTozMToyNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL3BuZyB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTJiNjAzZWMtNTcwNy0zZDQyLWI5NjMtNDQ2YWVhYjRiNDU1IiBzdEV2dDp3aGVuPSIyMDE5LTA2LTA1VDExOjMxOjI0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpjM2IxZmI5MC1kNzdkLTRiNDctYTA4OS1hNjA2NTkwMjk0YjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZTY1YmI4ZTQtYWZmNy05ZDQ3LTliNjAtZjdlODM1YjhkMjE4IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZTY1YmI4ZTQtYWZmNy05ZDQ3LTliNjAtZjdlODM1YjhkMjE4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/7gAOQWRvYmUAZAAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQcHBw0MDRgQEBgUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABSAFIDAREAAhEBAxEB/90ABAAL/8QBogAAAAcBAQEBAQAAAAAAAAAABAUDAgYBAAcICQoLAQACAgMBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAIBAwMCBAIGBwMEAgYCcwECAxEEAAUhEjFBUQYTYSJxgRQykaEHFbFCI8FS0eEzFmLwJHKC8SVDNFOSorJjc8I1RCeTo7M2F1RkdMPS4ggmgwkKGBmElEVGpLRW01UoGvLj88TU5PRldYWVpbXF1eX1ZnaGlqa2xtbm9jdHV2d3h5ent8fX5/c4SFhoeIiYqLjI2Oj4KTlJWWl5iZmpucnZ6fkqOkpaanqKmqq6ytrq+hEAAgIBAgMFBQQFBgQIAwNtAQACEQMEIRIxQQVRE2EiBnGBkTKhsfAUwdHhI0IVUmJy8TMkNEOC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'];
                 var base64 =[];
				 mergeimg(newdata,base64);
				 resultbase64 = $("#em").src;
				 console.log($("#em"));
            }
        }
    }

	function mergeimg(data,base64){
        //获得模板的宽高
        var mbWidth=$("#imgOne").width();
        var mbHeight=$("#imgOne").width();
        var Mycanvas=document.createElement("canvas"),
            ct=Mycanvas.getContext("2d"),
            len=data.length;
        Mycanvas.width=mbWidth;     //应为模板的宽
        Mycanvas.height=mbHeight;    //应为模板的高
        ct.rect(0,0,Mycanvas.width,Mycanvas.height);
        ct.fillStyle='#fff';
        ct.fill();
        function draw(n){
            if(n<len){
                var img=new Image;
                img.crossOrigin = 'Anonymous'; //解决跨域
                img.src=data[n];
                img.onload=function(){
                    if(n==0){
                        ct.drawImage(this,0,0,mbHeight,mbHeight);
                    }
                    if(n==1){
                        ct.drawImage(this,(mbHeight/2)-10,(mbHeight/2)-10,20,20);
                    }
                    draw(n+1);
                }
            }else{
                 base64.push(Mycanvas.toDataURL("image/png"));
                 document.getElementById("imgBox").innerHTML='<img  id="em" src="'+base64[0]+'">'; 
            }
        }
        draw(0)
    }

	 
</script>

</html>
